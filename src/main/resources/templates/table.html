<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Dependency analyzer</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="../static/css/standard.css" th:href="@{/css/standard.css}" />
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css"/>
    <script
            src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
            integrity="sha256-/SIrNqv8h6QGKDuNoLGA4iret+kyesCkHGzVUUV0shc="
            crossorigin="anonymous"></script>
    <script type="text/javascript" language="javascript" src="//cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>

    <script src="/js/datatable.js"></script>
</head>
<body>
<h1>Dependency analyzer</h1>

<div id="analyzed_jobs">
    <div id="analyzed_jobs_title">Analyzed jobs</div>
    <div th:switch="${isFiltered}" th:remove="tag">
        <div id="filtered_jobs" th:case="true" th:text="${filter}"></div>
        <div id="filtered_jobs" th:case="*">All Jenkins jobs that expose their maven dependencies</div>
    </div>
    <div id="missing_filter_title" th:if="${not #strings.isEmpty(missingFilter)}">Jobs that do not expose dependencies</div>
    <div id="missing_filter" th:if="${not #strings.isEmpty(missingFilter)}" th:text="${missingFilter}"></div>
</div>


<table id="dependenciestable" class="display" >
    <div th:each="element : ${dependencies}" th:remove="tag">
        <div th:each="versionMapElement : ${element.value}" th:remove="tag">
        <tr>
            <td th:text="${element.key}"></td>

                <td class="version" th:text="${versionMapElement.key}"></td>
                <td >
                    <div th:each="app : ${versionMapElement.value}" th:remove="tag">
                        <div th:text="${app}"></div>
                    </div>
                </td>
        </tr>
        </div>
    </div>
</table>
</body>
</html>